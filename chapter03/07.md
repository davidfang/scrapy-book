### <center>使用bs4爬取获取中国天气网信息</center>

### 一、爬取数据步骤

* 1、[爬取网站地址](http://www.weather.com.cn/textFC/hb.shtml)

* 2、实现代码

  ```py
  import requests
  from bs4 import BeautifulSoup

  class Weather(object):
      def __init__(self):
          self.url = 'http://www.weather.com.cn/textFC/hb.shtml'
          self.headers = {
              'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.162 Safari/537.36',
          }

      @property
      def get_html(self):
          """
          获取网站信息
          :return:
          """
          response = requests.get(url=self.url, headers=self.headers)
          if response.status_code == 200:
              return response.content.decode('utf8')
          return ''

      def get_data(self):
          """
          使用bs4提取数据
          :return:
          """
          soup = BeautifulSoup(self.get_html, 'lxml')
          conMidtab = soup.find('div', attrs={'class': 'conMidtab'})
          conMidtab2 = conMidtab.find_all('div', attrs={'class': 'conMidtab2'})
          temperature = []
          for item in conMidtab2:
              trs = item.find_all('tr')[2:]
              for tr in trs:
                  dict1 = {}
                  # 由于表格第一行的问题特殊处理
                  city = tr.find('td', attrs={'height': '23'}).get_text().replace('\n', '')
                  min_temperature = tr.find('td', attrs={'width': '86'}).get_text()
                  # 生成字典返回
                  dict1['city'] = city
                  dict1['min_temperature'] = min_temperature
                  temperature.append(dict1)
          return temperature

  if __name__ == "__main__":
      weather = Weather()
      print(weather.get_data())
  ```